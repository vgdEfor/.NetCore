{"version":3,"sources":["./src/app/pages/auth/login/login.component.ts","./src/app/pages/auth/login/login.component.html","./src/app/shared/components/array-translator/array-translator.module.ts","./src/app/pages/auth/login/login.module.ts","./src/app/shared/components/array-translator/array-translator.component.ts","./src/app/shared/components/array-translator/array-translator.component.html"],"names":[],"mappings":"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","file":"login-login-module.js","sourcesContent":["import { Component, OnInit, OnDestroy, ViewChild, ElementRef, ChangeDetectorRef } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { AccountService } from 'src/app/shared/api/services';\r\nimport { ServerSideError } from 'src/app/shared/interceptors/api-error/api-error.interceptor';\r\nimport { MetadataRobotConfiguration, SeoService } from 'src/app/shared/services/seo/seo.service';\r\nimport { first } from 'rxjs/operators';\r\nimport { TokenService } from 'src/app/shared/services/token/token.service';\r\nimport { AuthService } from 'src/app/shared/services/auth/auth.service';\r\nimport { StringUtilities } from 'ax-toolbox';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit, OnDestroy {\r\n  _isLoading = false;\r\n  _userData: any = {};\r\n  _errors: any = {};\r\n  _errorMessage: string = null;\r\n\r\n  private subs: Subscription[] = [];\r\n  private returnUrl;\r\n  constructor(\r\n    public cdref: ChangeDetectorRef,\r\n    public aRoute: ActivatedRoute,\r\n    public router: Router,\r\n    public accSV: AccountService,\r\n    public authSV: AuthService,\r\n    public seo: SeoService,\r\n    public tokenSV: TokenService,\r\n  ) {\r\n    this.initListeners();\r\n\r\n    this.seo.clearMetadata();\r\n    this.seo.setMetadata({}, [MetadataRobotConfiguration.None]);\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n  ngOnDestroy() {\r\n    this.subs.forEach((s) => s.unsubscribe());\r\n  }\r\n\r\n  onFormSubmit(ev: SubmitEvent) {\r\n    if (!ev.isTrusted) { return; }\r\n\r\n    this._isLoading = true;\r\n    this._errors = {};\r\n    this.cdref.detectChanges();\r\n\r\n    this.authWithJwt()\r\n    // this.authWithCookies()\r\n      .then(\r\n        () => {\r\n          let redirectTo = this.returnUrl;\r\n          this.authSV.refreshAccountProfile()\r\n            .then(() => {\r\n              this._userData = {};\r\n              this.cdref.detectChanges();\r\n              if (StringUtilities.isNullOrWhitespace(redirectTo) || redirectTo === '/') {\r\n                redirectTo = '/';\r\n              }\r\n              const angularRoute = this.router.parseUrl(redirectTo);\r\n              this.router.navigateByUrl(angularRoute).then(() => { });\r\n            });\r\n        },\r\n        (err) => {\r\n          if (err instanceof ServerSideError) {\r\n            this._errors = err.errorData;\r\n          }\r\n\r\n          this._isLoading = false;\r\n          this.cdref.detectChanges();\r\n        });\r\n  }\r\n\r\n  private authWithJwt() {\r\n    return new Promise<void>((resolve, reject) => {\r\n      this.accSV.apiAccountTokenPost$Json({ body: this._userData })\r\n        .pipe(first(() => true))\r\n        .subscribe(\r\n          (data) => {\r\n            this.tokenSV.setStoredToken(data);\r\n            resolve();\r\n          }, (err: ServerSideError | any) => {\r\n            reject(err);\r\n          });\r\n    });\r\n  }\r\n  private authWithCookies() {\r\n    return new Promise<void>((resolve, reject) => {\r\n      this.accSV.apiAccountLoginPost({ body: this._userData })\r\n        .pipe(first(() => true))\r\n        .subscribe(\r\n          () => {\r\n            resolve();\r\n          }, (err: ServerSideError | any) => {\r\n            reject(err);\r\n          });\r\n    });\r\n  }\r\n\r\n\r\n  private initListeners() {\r\n    const s = this.aRoute.queryParamMap.subscribe((p) => {\r\n      this._errorMessage = p.get('errMsg');\r\n      this.returnUrl = p.get('ReturnUrl');\r\n    });\r\n    this.subs.push(s);\r\n  }\r\n}\r\ninterface SubmitEvent {\r\n  bubbles: boolean;\r\n  cancelBubble: boolean;\r\n  cancelable: boolean;\r\n  composed: boolean;\r\n  currentTarget?: HTMLElement;\r\n  defaultPrevented: boolean;\r\n  eventPhase: number;\r\n  isTrusted: boolean;\r\n  path: HTMLElement[];\r\n  returnValue: boolean;\r\n  srcElement: HTMLElement;\r\n  submitter: HTMLButtonElement | HTMLElement;\r\n  target: HTMLFormElement;\r\n  timeStamp: number;\r\n  type: string;\r\n}\r\n","<div class=\"background\"><div class=\"bg-image\"></div></div>\r\n\r\n<form class=\"text-center d-flex align-items-center\"\r\n    (ngSubmit)=\"onFormSubmit($event)\">\r\n    <div class=\"card m-auto text-left shadow\">\r\n        <div class=\"card-header bg-primary text-white\">\r\n            <div class=\"card-title\">\r\n                <h4 class=\"\">{{'APP_NAME' | translate}}</h4>\r\n            </div>\r\n        </div>\r\n        <div class=\"card-body\">\r\n            <div class=\"form-group\">\r\n                <label #lblUsername class=\"sr-only\"\r\n                    for=\"Username\">{{'PAGES.AUTH.LOGIN.LABEL.USERNAME' | translate}}</label>\r\n                <input [id]=\"lblUsername.getAttribute('for')\" [name]=\"lblUsername.getAttribute('for')\"\r\n                    class=\"form-control\"\r\n                    [ngClass]=\"{'is-invalid': _errors[lblUsername.getAttribute('for')] }\"\r\n                    [attr.aria-labelledby]=\"lblUsername.getAttribute('for')\" [placeholder]=\"lblUsername.innerText\" [required]=\"true\"\r\n                    [autofocus]=\"true\"\r\n                    [autocomplete]=\"'username'\"\r\n                    [(ngModel)]=\"_userData.username\"\r\n                    [disabled]=\"_isLoading\">\r\n                <app-array-translator class=\"invalid-feedback d-block\" [labels]=\"_errors[lblUsername.getAttribute('for')]\"></app-array-translator>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label #lblPassword class=\"sr-only\" for=\"Password\">{{'PAGES.AUTH.LOGIN.LABEL.PASSWORD' | translate}}</label>\r\n                <input [id]=\"lblPassword.getAttribute('for')\" [name]=\"lblPassword.getAttribute('for')\"\r\n                    class=\"form-control\"\r\n                    [ngClass]=\"{'is-invalid': _errors[lblPassword.getAttribute('for')] }\"\r\n                    [type]=\"'password'\"\r\n                    [placeholder]=\"lblPassword.innerText\" [required]=\"true\" [autofocus]=\"true\"\r\n                    [autocomplete]=\"'current-password'\"\r\n                    [(ngModel)]=\"_userData.password\"\r\n                    [disabled]=\"_isLoading\">\r\n                <app-array-translator class=\"invalid-feedback d-block\" [labels]=\"_errors[lblPassword.getAttribute('for')]\"></app-array-translator>\r\n                <app-array-translator *ngIf=\"_errorMessage\" class=\"invalid-feedback d-block\" [labels]=\"[_errorMessage]\"></app-array-translator>\r\n            </div>\r\n\r\n            <div class=\"form-check custom-checkbox\">\r\n                <input [id]=\"lblRememberMe.getAttribute('for')\" [name]=\"lblRememberMe.getAttribute('for')\"\r\n                    class=\"form-check-input custom-control-input\"\r\n                    [type]=\"'checkbox'\"\r\n                    [checked]=\"_userData.rememberMe\"\r\n                    (change)=\"_userData.rememberMe = !_userData.rememberMe\">\r\n                <label #lblRememberMe\r\n                    class=\"custom-control-label form-check-label\" for=\"RememberMe\">\r\n                    {{'PAGES.AUTH.LOGIN.LABEL.REMEMBERME' | translate}}\r\n                </label>\r\n            </div>\r\n        </div>\r\n        <div class=\"mt-3 card-footer text-right\">\r\n            <div class=\"card-logo\"></div>\r\n            <button type=\"submit\" class=\"btn btn-sm btn-primary\"\r\n                [disabled]=\"_isLoading\">\r\n                <fa-icon *ngIf=\"_isLoading\" [icon]=\"['fas', 'sync']\" [spin]=\"true\"></fa-icon>\r\n                <ng-container *ngIf=\"!_isLoading\">{{'PAGES.AUTH.LOGIN.BTN.LOGIN' | translate}}</ng-container>\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ArrayTranslatorComponent } from './array-translator.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [ArrayTranslatorComponent],\r\n  exports: [ArrayTranslatorComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule.forChild(),\r\n  ]\r\n})\r\nexport class ArrayTranslatorModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { LoginComponent } from './login.component';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ArrayTranslatorModule } from 'src/app/shared/components/array-translator/array-translator.module';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: LoginComponent },\r\n  { path: ':errMsg', component: LoginComponent },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [LoginComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    FontAwesomeModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule.forChild(),\r\n    ArrayTranslatorModule,\r\n  ]\r\n})\r\nexport class LoginModule { }\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { environment } from '../../../../environments/environment';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { first } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-array-translator',\r\n  templateUrl: './array-translator.component.html',\r\n  styleUrls: ['./array-translator.component.scss']\r\n})\r\nexport class ArrayTranslatorComponent implements OnInit {\r\n  _labels: string[] = [];\r\n  @Input() set labels(values: string | string[]) {\r\n    if (values == null) { values = []; }\r\n    if (typeof (values) === 'string') { values = [values]; }\r\n    this._labels = values;\r\n    this.checkTranslations().finally(() => { });\r\n  }\r\n  @Input() isHtml = false;\r\n  @Input() labelCssClass = null;\r\n\r\n  constructor(\r\n    public translateSV: TranslateService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  private async checkTranslations() {\r\n    if (environment.production) { return; }\r\n\r\n    if (this._labels.length === 0) { return; }\r\n    const translations: string | { [key: string]: string } = await this.translateSV.get(this._labels)\r\n      .pipe(first(() => true))\r\n      .toPromise();\r\n    for (const l of this._labels) {\r\n      if (translations[l] == null || (translations[l]).length === 0) {\r\n        console.warn(`No translation for [${l}]`);\r\n      }\r\n    }\r\n  }\r\n}\r\n","<ng-container [ngSwitch]=\"isHtml\">\r\n    <ng-container *ngSwitchCase=\"true\">\r\n        <div *ngFor=\"let l of _labels\" [ngClass]=\"labelCssClass\" [innerHTML]=\"l | translate\"></div>\r\n    </ng-container>\r\n    <ng-container *ngSwitchDefault>\r\n        <div *ngFor=\"let l of _labels\" [ngClass]=\"labelCssClass\">{{l | translate}}</div>\r\n    </ng-container>\r\n</ng-container>"],"sourceRoot":"webpack:///"}