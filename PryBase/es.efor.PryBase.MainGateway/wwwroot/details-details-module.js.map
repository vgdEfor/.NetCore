{"version":3,"sources":["./src/app/pages/main/insurance-policy/details/details.component.ts","./src/app/pages/main/insurance-policy/details/details.component.html","./src/app/pages/main/insurance-policy/details/details.module.ts","./src/app/shared/utils/form-utils.ts","./src/app/shared/components/array-translator/array-translator.module.ts","./src/app/shared/components/array-translator/array-translator.component.ts","./src/app/shared/components/array-translator/array-translator.component.html"],"names":[],"mappings":"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","file":"details-details-module.js","sourcesContent":["import { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { DestroySubscriptions } from 'ax-toolbox';\r\nimport { FormUtilities } from 'src/app/shared/utils/form-utils';\r\nimport { ListComponent, MockupItem } from '../list/list.component';\r\n\r\n@Component({\r\n  selector: 'app-details',\r\n  templateUrl: './details.component.html',\r\n  styleUrls: ['./details.component.scss']\r\n})\r\nexport class DetailsComponent extends DestroySubscriptions implements OnInit, OnDestroy {\r\n\r\n  _item: MockupItem = new MockupItem();\r\n  _itemErrors: FormItemErrors = {};\r\n\r\n  _isLoading = true;\r\n  constructor(\r\n    public cdRef: ChangeDetectorRef,\r\n    public router: Router,\r\n    public aRoute: ActivatedRoute,\r\n    public translate: TranslateService,\r\n  ) {\r\n    super();\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.initListeners();\r\n  }\r\n  ngOnDestroy() {\r\n    super.ngOnDestroy();\r\n  }\r\n  onBooleanCheckboxToggle(propertyName: string) {\r\n    const isChecked = !this._item[propertyName];\r\n    this._item[propertyName] = isChecked;\r\n  }\r\n\r\n  onDatepicketValueChange($event: Date, propertyName: string) {\r\n    FormUtilities.onDatepicketValueChange(this._item, $event, propertyName, this.cdRef);\r\n  }\r\n  onTextNumberValueChange($event: Event, propertyName: string) {\r\n    const newVal = (($event.target as HTMLInputElement).value || '')\r\n      .toString()\r\n      .replace('.', '')\r\n      .replace(',', '.');\r\n    let asNumber = Number(newVal);\r\n    if (isNaN(asNumber)) { asNumber = this._item[propertyName]; }\r\n\r\n    this._item[propertyName] = asNumber;\r\n    // this.cdRef.detectChanges();\r\n  }\r\n\r\n\r\n  private initListeners(): void {\r\n    this.initARouteListeners();\r\n  }\r\n  private initARouteListeners() {\r\n    const parentS = this.aRoute.parent.url.subscribe((parentUrl) => {\r\n      // Illegal navigation\r\n      if (parentUrl[0] == null || !parentUrl[0].path) {\r\n        this.goBack();\r\n        return;\r\n      }\r\n\r\n      const childS = this.aRoute.paramMap.subscribe((data) => {\r\n        this._item = new MockupItem();\r\n\r\n        // New does not need ID.\r\n        const id = data.get('id');\r\n        if (parentUrl[0].path === 'new') {\r\n          if (id) {\r\n            this.goBack();\r\n            return;\r\n          }\r\n          this._isLoading = false;\r\n        } else {\r\n          if (!id) {\r\n            this.goBack();\r\n            return;\r\n          }\r\n          this._item.setData({ id: id });\r\n\r\n          this._isLoading = true;\r\n          this.getById(id).then((item) => {\r\n            // Concurrency check. User may have navigated\r\n            // while data was being retrieved\r\n            if (id === this._item.id) {\r\n              this._isLoading = false;\r\n              // 404\r\n              if (item == null) {\r\n                this.goBack();\r\n                return;\r\n              }\r\n              // Assign details data\r\n              this._item.setData(item);\r\n            }\r\n          });\r\n        }\r\n      });\r\n      this.subs.push(childS);\r\n    });\r\n\r\n    this.subs.push(parentS);\r\n  }\r\n\r\n  async onBtnSave(ev: MouseEvent) {\r\n    this._isLoading = true;\r\n\r\n    let oldItem = await this.getById(this._item.id);\r\n    if (oldItem == null) {\r\n      oldItem = new MockupItem(true);\r\n      this._item.id = oldItem.id;\r\n      ListComponent.dtItems.push(oldItem);\r\n    }\r\n\r\n    setTimeout(async () => {\r\n      oldItem.setData(this._item);\r\n      await this.router.navigate(['/insurance/details/', this._item.id]);\r\n      this._isLoading = false;\r\n    }, 3000);\r\n  }\r\n\r\n  private async getById(id: string) {\r\n    const item = ListComponent.dtItems.find((i) => i.id === id);\r\n    return item;\r\n  }\r\n  private goBack() {\r\n    this.router.navigate(['/insurance']);\r\n  }\r\n}\r\n\r\nexport type FormItemErrors = { [fieldId: string]: (string | string[]) };\r\n","<h2 class=\"section-title my-4\">{{'PAGE.INSURANCE.DETAILS.TITLE' | translate}}</h2>\r\n\r\n<form (ngSubmit)=\"onBtnSave($event)\" autocomplete=\"off\">\r\n    <div class=\"form-row\">\r\n        <div class=\"col form-group\">\r\n            <label #lblName for=\"Name\" [tooltip]=\"'PAGE.INSURANCE.DETAILS.TOOLTIP.NAME' | translate \"\r\n                class=\"text-nowrap\">\r\n                <fa-icon [icon]=\"['fas', 'user-circle']\" ></fa-icon>\r\n                {{'PAGE.INSURANCE.DETAILS.LABEL.NAME' | translate}}\r\n            </label>\r\n            <input type=\"text\" autocomplete=\"off\" class=\"form-control form-control-sm\"\r\n                [id]=\"lblName.getAttribute('for')\" [name]=\"lblName.getAttribute('for')\"\r\n                [(ngModel)]=\"_item.name\"\r\n                [disabled]=\"_isLoading\"\r\n                [required]=\"true\">\r\n            <app-array-translator class=\"invalid-feedback d-block\"\r\n                [labels]=\"_itemErrors[lblName.getAttribute('for')]\"></app-array-translator>\r\n        </div>\r\n        <div class=\"col form-group\">\r\n            <label #lblSurname1 for=\"Surname1\" [tooltip]=\"'PAGE.INSURANCE.DETAILS.TOOLTIP.SURNAME1' | translate \"\r\n                class=\"text-nowrap\">\r\n                <fa-icon [icon]=\"['fas', 'user-circle']\" ></fa-icon>\r\n                {{'PAGE.INSURANCE.DETAILS.LABEL.SURNAME1' | translate}}\r\n            </label>\r\n            <input type=\"text\" autocomplete=\"off\" class=\"form-control form-control-sm\"\r\n                [id]=\"lblSurname1.getAttribute('for')\" [name]=\"lblSurname1.getAttribute('for')\"\r\n                [(ngModel)]=\"_item.surname1\"\r\n                [disabled]=\"_isLoading\"\r\n                [required]=\"true\">\r\n            <app-array-translator class=\"invalid-feedback d-block\"\r\n                [labels]=\"_itemErrors[lblSurname1.getAttribute('for')]\"></app-array-translator>\r\n        </div>\r\n        <div class=\"col form-group\">\r\n            <label #lblSurname2 for=\"Surname2\" [tooltip]=\"'PAGE.INSURANCE.DETAILS.TOOLTIP.SURNAME2' | translate \"\r\n                class=\"text-nowrap\">\r\n                <fa-icon [icon]=\"['fas', 'user-circle']\" ></fa-icon>\r\n                {{'PAGE.INSURANCE.DETAILS.LABEL.SURNAME2' | translate}}\r\n            </label>\r\n            <input type=\"text\" autocomplete=\"off\" class=\"form-control form-control-sm\"\r\n                [id]=\"lblSurname2.getAttribute('for')\" [name]=\"lblSurname2.getAttribute('for')\"\r\n                [(ngModel)]=\"_item.surname2\"\r\n                [disabled]=\"_isLoading\">\r\n            <app-array-translator class=\"invalid-feedback d-block\"\r\n                [labels]=\"_itemErrors[lblSurname2.getAttribute('for')]\"></app-array-translator>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"form-row pb-5\">\r\n        <div class=\"col form-group\">\r\n            <label #lblDatetime [attr.for]=\"'Post.DatetimeStart'\" [tooltip]=\"'PAGE.INSURANCE.DETAILS.TOOLTIP.DATETIME' | translate \">\r\n                <fa-icon [icon]=\"['fas', 'calendar-day']\"></fa-icon>\r\n                {{'PAGE.INSURANCE.DETAILS.LABEL.DATETIME' | translate}}\r\n            </label>\r\n            <div class=\"input-group input-group-sm\">\r\n                <input type=\"text\"\r\n                    [id]=\"lblDatetime.getAttribute('for')\" [name]=\"lblDatetime.getAttribute('for')\"\r\n                    placeholder=\"Datepicker\"\r\n                    class=\"form-control\"\r\n                    bsDatepicker\r\n                    [bsValue]=\"_item.datetime\"\r\n                    (bsValueChange)=\"onDatepicketValueChange($event, 'datetime')\">\r\n                <div class=\"input-group-append\">\r\n                    <button class=\"btn btn-outline-danger\"\r\n                        type=\"button\"\r\n                        [disabled]=\"_item.datetime == null\"\r\n                        (click)=\"onDatepicketValueChange(null, 'datetime')\">\r\n                        <fa-icon [icon]=\"['fas', 'trash']\"></fa-icon>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <app-array-translator class=\"invalid-feedback d-block\" [labels]=\"_itemErrors[lblDatetime.getAttribute('for')]\">\r\n            </app-array-translator>\r\n        </div>\r\n        <div class=\"col form-group\">\r\n            <label #lblAmount for=\"Amount\" [tooltip]=\"'PAGE.INSURANCE.DETAILS.TOOLTIP.AMOUNT' | translate \"\r\n                class=\"text-nowrap\">\r\n                <fa-icon [icon]=\"['fas', 'money-bill']\" ></fa-icon>\r\n                {{'PAGE.INSURANCE.DETAILS.LABEL.NAME' | translate}}\r\n            </label>\r\n            <input type=\"text\" autocomplete=\"off\" class=\"form-control form-control-sm\"\r\n                [id]=\"lblAmount.getAttribute('for')\" [name]=\"lblAmount.getAttribute('for')\"\r\n                [value]=\"_item.amount | decimalToString:2:2:'-'\"\r\n                (change)=\"onTextNumberValueChange($event, 'amount')\"\r\n                [disabled]=\"_isLoading\">\r\n            <app-array-translator class=\"invalid-feedback d-block\"\r\n                [labels]=\"_itemErrors[lblAmount.getAttribute('for')]\"></app-array-translator>\r\n        </div>\r\n\r\n        <div class=\"col form-group align-self-end\">\r\n            <ng-container [ngTemplateOutlet]=\"tmplBooleanCheckbox\"\r\n                [ngTemplateOutletContext]=\"{\r\n                    propertyName: 'isPremium',\r\n                    label: 'PAGE.INSURANCE.DETAILS.LABEL.ISPREMIUM'| translate\r\n                }\">\r\n            </ng-container>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row footer-formbuttons position-fixed w-100\">\r\n        <div class=\"col text-right\">\r\n            <!-- <div class=\"btn-group\"> -->\r\n                <button type=\"button\" *ngIf=\"_item.id\"\r\n                    class=\"btn btn-secondary mr-1\"\r\n                    [routerLink]=\"['/insurance']\">\r\n                    <fa-icon [icon]=\"['fas', 'chevron-left']\"></fa-icon>\r\n                    {{'GENERIC.BTN.GOTO.LIST' | translate}}\r\n                </button>\r\n                <button type=\"submit\" class=\"btn btn-primary mx-1\" [disabled]=\"_isLoading\">\r\n                    <ng-container *ngIf=\"_isLoading\">\r\n                        <fa-icon [icon]=\"['fas', 'sync']\" [spin]=\"true\"></fa-icon>\r\n                        {{'GENERIC.LABEL.LOADING' | translate}}\r\n                    </ng-container>\r\n                    <ng-container *ngIf=\"!_isLoading\">\r\n                        <fa-icon [icon]=\"['fas', 'save']\"></fa-icon>\r\n                        {{'GENERIC.BTN.SAVE' | translate}}\r\n                    </ng-container>\r\n                </button>\r\n                <button type=\"button\" *ngIf=\"_item.id\"\r\n                    class=\"btn btn-danger ml-1\">\r\n                    <fa-icon [icon]=\"['fas', 'trash']\"></fa-icon>\r\n                    {{'GENERIC.BTN.DELETE' | translate}}\r\n                </button>\r\n            <!-- </div> -->\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<ng-template #tmplBooleanCheckbox\r\n    let-pn=\"propertyName\"\r\n    let-lbl=\"label\">\r\n    <div class=\"form-check form-check-inline custom-checkbox\">\r\n        <input [id]=\"pn\" [name]=\"pn\"\r\n            class=\"form-check-input custom-control-input\"\r\n            type=\"checkbox\"\r\n            [checked]=\"_item[pn]\"\r\n            (change)=\"onBooleanCheckboxToggle(pn)\"\r\n            [disabled]=\"_isLoading\">\r\n        <label class=\"custom-control-label form-check-label\" [attr.for]=\"pn\">\r\n            {{lbl}}\r\n        </label>\r\n    </div>\r\n</ng-template>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { DetailsComponent } from './details.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { ArrayTranslatorModule } from 'src/app/shared/components/array-translator/array-translator.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { DecimalToStringModule } from 'src/app/shared/pipes/decimal-to-string/decimal-to-string.module';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: DetailsComponent, },\r\n  { path: ':id', component: DetailsComponent, },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [DetailsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule.forChild(),\r\n    ArrayTranslatorModule,\r\n    FontAwesomeModule,\r\n    TooltipModule,\r\n    BsDatepickerModule,\r\n\r\n    DecimalToStringModule,\r\n  ]\r\n})\r\nexport class DetailsModule { }\r\n","import { ChangeDetectorRef } from '@angular/core';\r\n\r\nimport * as moment from 'moment';\r\n\r\nexport class FormUtilities {\r\n    /**\r\n     * @param item The item whose property needs to be changed\r\n     * @param $event The new Date value\r\n     * @param propertyName The property of `item` where the value will be stored\r\n     * @param changeDetector If using BsDatepicker and if detectChanges needs to be run, pass an\r\n     * instance of the injected `ChangeDetectorRef`\r\n     */\r\n    static onDatepicketValueChange(item: object, $event: Date, propertyName: string, changeDetector?: ChangeDetectorRef) {\r\n        if ($event == null && item[propertyName] != null) {\r\n            item[propertyName] = null;\r\n            if (changeDetector != null) { changeDetector.detectChanges(); }\r\n        } else if ($event != null) {\r\n            const asMoment = moment($event);\r\n            const currentValue = moment(item[propertyName]);\r\n            if (asMoment.isSame(currentValue)) { return; }\r\n\r\n            item[propertyName] = asMoment.toDate();\r\n        }\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ArrayTranslatorComponent } from './array-translator.component';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [ArrayTranslatorComponent],\r\n  exports: [ArrayTranslatorComponent],\r\n  imports: [\r\n    CommonModule,\r\n    TranslateModule.forChild(),\r\n  ]\r\n})\r\nexport class ArrayTranslatorModule { }\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { environment } from '../../../../environments/environment';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { first } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-array-translator',\r\n  templateUrl: './array-translator.component.html',\r\n  styleUrls: ['./array-translator.component.scss']\r\n})\r\nexport class ArrayTranslatorComponent implements OnInit {\r\n  _labels: string[] = [];\r\n  @Input() set labels(values: string | string[]) {\r\n    if (values == null) { values = []; }\r\n    if (typeof (values) === 'string') { values = [values]; }\r\n    this._labels = values;\r\n    this.checkTranslations().finally(() => { });\r\n  }\r\n  @Input() isHtml = false;\r\n  @Input() labelCssClass = null;\r\n\r\n  constructor(\r\n    public translateSV: TranslateService,\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  private async checkTranslations() {\r\n    if (environment.production) { return; }\r\n\r\n    if (this._labels.length === 0) { return; }\r\n    const translations: string | { [key: string]: string } = await this.translateSV.get(this._labels)\r\n      .pipe(first(() => true))\r\n      .toPromise();\r\n    for (const l of this._labels) {\r\n      if (translations[l] == null || (translations[l]).length === 0) {\r\n        console.warn(`No translation for [${l}]`);\r\n      }\r\n    }\r\n  }\r\n}\r\n","<ng-container [ngSwitch]=\"isHtml\">\r\n    <ng-container *ngSwitchCase=\"true\">\r\n        <div *ngFor=\"let l of _labels\" [ngClass]=\"labelCssClass\" [innerHTML]=\"l | translate\"></div>\r\n    </ng-container>\r\n    <ng-container *ngSwitchDefault>\r\n        <div *ngFor=\"let l of _labels\" [ngClass]=\"labelCssClass\">{{l | translate}}</div>\r\n    </ng-container>\r\n</ng-container>"],"sourceRoot":"webpack:///"}