{"version":3,"sources":["./src/app/pages/main/empleados/employees/employees-details/employees-details.module.ts","./src/app/pages/main/empleados/employees/employees-details/employees-details.component.ts","./src/app/pages/main/empleados/employees/employees-details/employees-details.component.html"],"names":[],"mappings":"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","file":"employees-details-employees-details-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { EmployeesDetailsComponent } from './employees-details.component';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TooltipModule } from 'ngx-bootstrap/tooltip';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { ArrayTranslatorModule } from 'src/app/shared/components/array-translator/array-translator.module';\r\nimport { BsDatepickerModule } from 'ngx-bootstrap/datepicker';\r\nimport { ModalConfirmationMessageModule } from 'src/app/shared/components/modals/modal-confirmation-message/modal-confirmation-message.module';\r\nimport { BsFormSelectModule } from 'ax-toolbox';\r\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\r\n\r\nconst routes: Routes = [\r\n  { path: '', component: EmployeesDetailsComponent },\r\n  { path: ':id', component: EmployeesDetailsComponent },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [EmployeesDetailsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(routes),\r\n    TranslateModule,\r\n    FormsModule,\r\n    TooltipModule,\r\n    FontAwesomeModule,\r\n    ArrayTranslatorModule,\r\n    BsDatepickerModule,\r\n    ModalConfirmationMessageModule,\r\n    BsFormSelectModule,\r\n    CollapseModule\r\n  ]\r\n})\r\nexport class EmployeesDetailsModule { }\r\n","import { ChangeDetectorRef, Component, OnDestroy, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { BsFormSelectGetterFn, DestroySubscriptions, LabelAndValueExtended } from 'ax-toolbox';\r\nimport { first } from 'rxjs/operators';\r\nimport { Employee, Int32LabelAndValue, PositionEnum } from 'src/app/shared/api/models';\r\nimport { EmployeesService } from 'src/app/shared/api/services';\r\nimport { ModalConfirmationMessageComponent } from 'src/app/shared/components/modals/modal-confirmation-message/modal-confirmation-message.component';\r\nimport { FormUtilities } from 'src/app/shared/utils/form-utils';\r\n\r\n@Component({\r\n  selector: 'app-employees-details',\r\n  templateUrl: './employees-details.component.html',\r\n  styleUrls: ['./employees-details.component.scss']\r\n})\r\nexport class EmployeesDetailsComponent extends DestroySubscriptions implements OnInit, OnDestroy {\r\n\r\n  _item: Employee = {\r\n    id: 0,\r\n    name: \"\",\r\n    surname: \"\",\r\n    positionType: 0,\r\n    position: PositionEnum.Chief,\r\n    dbirth: \"\",\r\n    dstart: \"\"\r\n  }\r\n  _itemErrors: FormItemErrors = {};\r\n  _isLoading = true;\r\n\r\n  datestart: Date;\r\n  datebirth: Date;\r\n\r\n  _isNewItem : boolean = false;\r\n\r\n  listaPositions : Int32LabelAndValue[]=[];\r\n  selectPostionGetterFn: BsFormSelectGetterFn<number>;\r\n\r\n  @ViewChild('modalDeleteConfirm') modalDetails:ModalConfirmationMessageComponent;\r\n  @ViewChild('modalEmpleadoConProyectos') modalEmpleadoConProyectos:ModalConfirmationMessageComponent;\r\n  @ViewChild('modalDatosRequired') modalDatosRequired:ModalConfirmationMessageComponent;\r\n\r\n  mensaje : string[] = [];\r\n\r\n  mostrarSelect : boolean = true;\r\n  mostrarDoc : boolean = true;\r\n\r\n  constructor(\r\n    public router: Router,\r\n    public aRoute: ActivatedRoute,\r\n    public translate: TranslateService,\r\n    public employeesSV: EmployeesService,\r\n    public cdRef: ChangeDetectorRef\r\n  ) {\r\n    super();\r\n   }\r\n\r\n  ngOnInit(): void {\r\n\r\n    if(this.listaPositions.length <= 0){\r\n        this.employeesSV.apiEmployeesPositionlistGet$Json().subscribe(data =>{      \r\n        this.listaPositions = data;\r\n      });\r\n    }\r\n    this.initSelectPosition();\r\n\r\n    this.initListeners();\r\n\r\n  }\r\n  ngOnDestroy() {\r\n    super.ngOnDestroy();\r\n  }\r\n\r\n  onBtnSave(ev: MouseEvent): void {\r\n      // GUardar\r\n      this._isLoading = true;\r\n\r\n      /*if (this._item.name.trim() == \"\" || this._item.surname.trim() == \"\" \r\n      || !this.datebirth || this.datebirth === undefined \r\n      || !this.datestart || this.datestart === undefined){\r\n        this.modalDatosRequired.btnConfirmShown = false;\r\n        this.modalDatosRequired.open();\r\n        this._isLoading = false;\r\n        return;\r\n      }*/\r\n\r\n      if(this.datebirth && this.datebirth != undefined){\r\n        this._item.dbirth = this.datebirth.getFullYear() + \"-\" + (this.datebirth.getMonth()+1) + \"-\" + this.datebirth.getDate();\r\n      } else {\r\n        this._item.dbirth = \"0000-00-00\";\r\n      }\r\n      \r\n      if(this.datestart && this.datestart != undefined){\r\n        this._item.dstart = this.datestart.getFullYear() + \"-\" + (this.datestart.getMonth()+1) + \"-\" + this.datestart.getDate();\r\n      } else {\r\n        this._item.dstart = \"0000-00-00\";\r\n      }\r\n      \r\n      if (this._isNewItem){\r\n        //console.log(this._item);\r\n        this.employeesSV.apiEmployeesInsertPost$Json({body:this._item}).subscribe((data) => {\r\n         // console.log(\"Creado: \" + data.id + \" - \" + data.name);\r\n          this._isLoading = false;\r\n          this.goBack();\r\n        }, error => {\r\n          console.log(error);\r\n          this.crearMensajeError(error.errorData);\r\n\r\n          this.modalDatosRequired.btnConfirmShown = false;\r\n          this.modalDatosRequired.open();\r\n          this._isLoading = false;\r\n          return;\r\n        });\r\n      } else {\r\n        this.employeesSV.apiEmployeesUpdatePost$Json({body:this._item}).subscribe((data) => {\r\n         // console.log(\"Actualizado: \" + data.id + \" - \" + data.name);\r\n          this._isLoading = false;\r\n          this.goBack();\r\n        }, error => {\r\n          \r\n          this.crearMensajeError(error.errorData);\r\n\r\n          this.modalDatosRequired.btnConfirmShown = false;\r\n          this.modalDatosRequired.open();\r\n          this._isLoading = false;\r\n          return;\r\n        });\r\n      }\r\n      \r\n  }\r\n\r\n  // Recibe los errores del servidor y los guarda en un array de strings\r\n  crearMensajeError(errors : any) {\r\n    this.mensaje = [\"Error\"];\r\n    \r\n    if(errors[\"errors\"]){ // Errores de validación en el servidor. No llega al controller\r\n      Object.keys(errors[\"errors\"]).forEach((key:string)=>{\r\n\r\n        if(key==\"dbirth\"){\r\n          this.mensaje[this.mensaje.length] = \"The Birth date is required\"; \r\n        } else if(key == \"dstart\"){\r\n          this.mensaje[this.mensaje.length] = \"The Start date is required\";\r\n        } else {\r\n          this.mensaje[this.mensaje.length] = errors[\"errors\"][key][0];\r\n        }\r\n      }); \r\n    } else { // Errores de validación en el servidor. LLega al controler\r\n        Object.keys(errors).forEach((keyErrors:string)=>{\r\n          this.mensaje[this.mensaje.length] = errors[keyErrors][0];\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  onModalDeleteConfirmed(){\r\n    this.employeesSV.apiEmployeesDeleteDelete$Json({id:this._item.id}).subscribe((data) => {\r\n     // console.log(\"Borrado: \" + data.id + \" - \" + data.name);\r\n      this._isLoading = false;\r\n      this.goBack();\r\n    });\r\n\r\n    this.modalDetails.close();\r\n  }\r\n\r\n  onBtnDelete (){\r\n    if (this._item.projects.length > 0){ \r\n      this.modalEmpleadoConProyectos.btnConfirmShown = false;\r\n      this.modalEmpleadoConProyectos.open();\r\n    } else {\r\n      this.modalDetails.open();\r\n    }\r\n    \r\n  }\r\n \r\n  onDatepicketValueChange($event: Date, propertyName: string) {\r\n    if(propertyName == \"datebirth\" || propertyName == \"datestart\")\r\n    {\r\n      FormUtilities.onDatepicketValueChange(this, $event, propertyName, this.cdRef);\r\n    } else {\r\n      FormUtilities.onDatepicketValueChange(this._item, $event, propertyName, this.cdRef);\r\n    }\r\n     \r\n  }\r\n\r\n  private initSelectPosition(){\r\n      this.selectPostionGetterFn = async ()=>{\r\n        const fromApi = await this.employeesSV.apiEmployeesPositionlistGet$Json({})\r\n        .pipe(first())\r\n        .toPromise();\r\n        return fromApi.map(dvalue => new LabelAndValueExtended<number>().setData( {\r\n           label: dvalue.label,\r\n           value: dvalue.data\r\n         }));\r\n      };\r\n  }\r\n\r\n  private initListeners(): void {\r\n    this.initARouteListeners();\r\n  }\r\n\r\n  private initARouteListeners() {\r\n\r\n    const parentS = this.aRoute.parent.url.subscribe((parentUrl) => {\r\n      \r\n      // Illegal navigation\r\n      if (parentUrl[0] == null || !parentUrl[0].path) {\r\n        this.goBack();\r\n        return;\r\n      }\r\n\r\n      const childS = this.aRoute.paramMap.subscribe((data) => {\r\n        // New does not need ID.\r\n        const id = data.get('id');\r\n        if (parentUrl[0].path === 'new') {\r\n          if (id) {\r\n            this.goBack();\r\n            return;\r\n          }\r\n          this._isNewItem = true;\r\n          this._isLoading = false;\r\n        } else {\r\n          if (!id) {\r\n            this.goBack();\r\n            return;\r\n          }\r\n\r\n          // Cargar empleado BD\r\n          this.employeesSV.apiEmployeesGetbyidGet$Json({id:parseInt(id)}).subscribe((data) => {\r\n              this._item = data;\r\n              this._isLoading = true;\r\n\r\n              // 404\r\n              if (this._item == null) {\r\n                this.goBack();\r\n                return;\r\n              }\r\n\r\n              if (parseInt(id) === this._item.id) {\r\n                this.datebirth = new Date(this._item.dbirth);\r\n                this.datestart = new Date(this._item.dstart);\r\n                this._isLoading = false;\r\n              }\r\n\r\n          });\r\n        }\r\n      });\r\n      this.subs.push(childS);\r\n    });\r\n\r\n    this.subs.push(parentS);\r\n  }\r\n\r\n  private goBack() {\r\n    this.router.navigate(['/empleados/employees']);\r\n  }\r\n\r\n}\r\n\r\nexport type FormItemErrors = { [fieldId: string]: (string | string[]) };\r\n","<h2 class=\"section-title my-4\">{{'PAGE.EMPLOYEES.DETAILS.TITLE' | translate}}</h2>\r\n\r\n<form (ngSubmit)=\"onBtnSave($event)\" autocomplete=\"off\">\r\n    <div class=\"form-row\">\r\n          <div class=\"col form-group\">\r\n\r\n            <label #lblName for=\"Name\" [tooltip]=\"'PAGE.EMPLOYEES.DETAILS.LABEL.NAME' | translate \"\r\n                   class=\"text-nowrap\">\r\n              <fa-icon [icon]=\"['fas', 'user-circle']\"></fa-icon>\r\n              {{'PAGE.EMPLOYEES.DETAILS.LABEL.NAME' | translate}}\r\n            </label>\r\n            <input type=\"text\" autocomplete=\"off\" class=\"form-control form-control-sm\"\r\n                   [id]=\"lblName.getAttribute('for')\" [name]=\"lblName.getAttribute('for')\"\r\n                   [(ngModel)]=\"_item.name\"\r\n                   [disabled]=\"_isLoading\"\r\n                   [required]=\"true\">\r\n            <app-array-translator class=\"invalid-feedback d-block\"\r\n                                  [labels]=\"_itemErrors[lblName.getAttribute('for')]\"></app-array-translator>\r\n          </div>\r\n\r\n          <div class=\"col form-group\">\r\n            <label #lblSurname for=\"Surname\" [tooltip]=\"'PAGE.EMPLOYEES.DETAILS.LABEL.SURNAME' | translate \"\r\n                   class=\"text-nowrap\">\r\n              <fa-icon [icon]=\"['fas', 'user-circle']\"></fa-icon>\r\n              {{'PAGE.EMPLOYEES.DETAILS.LABEL.SURNAME' | translate}}\r\n            </label>\r\n            <input type=\"text\" autocomplete=\"off\" class=\"form-control form-control-sm\"\r\n                   [id]=\"lblSurname.getAttribute('for')\" [name]=\"lblSurname.getAttribute('for')\"\r\n                   [(ngModel)]=\"_item.surname\"\r\n                   [disabled]=\"_isLoading\"\r\n                   [required]=\"true\">\r\n            <app-array-translator class=\"invalid-feedback d-block\"\r\n                                  [labels]=\"_itemErrors[lblSurname.getAttribute('for')]\"></app-array-translator>\r\n          </div>\r\n\r\n          \r\n          <div class=\"col form-group\">\r\n            <label #lblPosition for=\"Position\" [tooltip]=\"'PAGE.EMPLOYEES.DETAILS.LABEL.POSITION' | translate \"\r\n                   class=\"text-nowrap\">\r\n              <fa-icon [icon]=\"['fas', 'user-circle']\"></fa-icon>\r\n              {{'PAGE.EMPLOYEES.DETAILS.LABEL.POSITION' | translate}}\r\n            </label>\r\n            <select class=\"form-control form-control-sm\"\r\n                [id]=\"lblPosition.getAttribute('for')\" [name]=\"lblPosition.getAttribute('for')\"\r\n                [disabled]=\"_isLoading\"\r\n                [(ngModel)]=\"_item.position\"\r\n                [required]=\"true\">\r\n                <option  *ngFor=\"let position of listaPositions\" [value]=\"position.data\">{{position.label}}</option>\r\n                <!--<option value=\"0\">Chief</option>\r\n                <option value=\"1\">Manager</option>\r\n                <option value=\"2\">Supervisor</option>\r\n                <option value=\"3\">Developer</option>\r\n                <option value=\"4\">Tester</option>-->\r\n            </select>\r\n          </div>\r\n\r\n    </div>\r\n    \r\n    <div class=\"form-row pb-5\" *ngIf=\"_item\">\r\n\r\n        <div class=\"col form-group\">\r\n            <label #lblDateBirth [attr.for]=\"'Post.DatetimeBirth'\" [tooltip]=\"'PAGE.EMPLOYEES.DETAILS.LABEL.DATEBIRTH' | translate \">\r\n              <fa-icon [icon]=\"['fas', 'calendar-day']\"></fa-icon>\r\n              {{'PAGE.EMPLOYEES.DETAILS.LABEL.DATEBIRTH' | translate}}\r\n            </label>\r\n            <div class=\"input-group input-group-sm\">\r\n              <input type=\"text\"\r\n                     [id]=\"lblDateBirth.getAttribute('for')\" [name]=\"lblDateBirth.getAttribute('for')\"\r\n                     placeholder=\"Fecha nacimiento\"\r\n                     class=\"form-control\"\r\n                     bsDatepicker\r\n                     [bsValue]=\"datebirth\"\r\n                     (bsValueChange)=\"onDatepicketValueChange($event, 'datebirth')\">\r\n              <div class=\"input-group-append\">\r\n                <button class=\"btn btn-outline-danger\"\r\n                        type=\"button\"\r\n                        [disabled]=\"datebirth == null\"\r\n                        (click)=\"onDatepicketValueChange(null, 'datebirth')\">\r\n                  <fa-icon [icon]=\"['fas', 'trash']\"></fa-icon>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <app-array-translator class=\"invalid-feedback d-block\" [labels]=\"_itemErrors[lblDateBirth.getAttribute('for')]\">\r\n            </app-array-translator>\r\n        </div>\r\n\r\n        <div class=\"col form-group\">\r\n            <label #lblDateStart [attr.for]=\"'Post.DatetimeStart'\" [tooltip]=\"'PAGE.EMPLOYEES.DETAILS.LABEL.DATESTART' | translate \">\r\n              <fa-icon [icon]=\"['fas', 'calendar-day']\"></fa-icon>\r\n              {{'PAGE.EMPLOYEES.DETAILS.LABEL.DATESTART' | translate}}\r\n            </label>\r\n            <div class=\"input-group input-group-sm\">\r\n              <input type=\"text\"\r\n                     [id]=\"lblDateStart.getAttribute('for')\" [name]=\"lblDateStart.getAttribute('for')\"\r\n                     placeholder=\"Fecha inicio\"\r\n                     class=\"form-control\"\r\n                     bsDatepicker\r\n                     [bsValue]=\"datestart\"\r\n                     (bsValueChange)=\"onDatepicketValueChange($event, 'datestart')\">\r\n              <div class=\"input-group-append\">\r\n                <button class=\"btn btn-outline-danger\"\r\n                        type=\"button\"\r\n                        [disabled]=\"datestart == null\"\r\n                        (click)=\"onDatepicketValueChange(null, 'datestart')\">\r\n                  <fa-icon [icon]=\"['fas', 'trash']\"></fa-icon>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <app-array-translator class=\"invalid-feedback d-block\" [labels]=\"_itemErrors[lblDateStart.getAttribute('for')]\">\r\n            </app-array-translator>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <button #botonDocumentacion class=\"btn-primary\" type=\"button\" (click)=\"mostrarSelect=!mostrarSelect\">Mostar select alternativo</button>\r\n    \r\n    <div #documentacion [collapse]=\"mostrarSelect\" [isAnimated]=\"true\">\r\n      <h4>Método alternantivo para el select de enums. Componente ax-bs-form-select</h4>\r\n      <div  class=\"form-row pb-5\" *ngIf=\"_item\">\r\n        <div class=\"col form-group\">\r\n          <ax-bs-form-select\r\n            [id]=\"'position'\"\r\n            [label]=\"'Posición'\"\r\n            [tooltipContent]=\"'Posición'\"\r\n            [getterFn]=\"selectPostionGetterFn\"\r\n            [(selected)]=\"_item.position\"\r\n            [debounceTimeMs]=\"200\">\r\n          </ax-bs-form-select>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!--BOTONES-->\r\n    <div class=\"row footer-formbuttons position-fixed w-100\">\r\n        <div class=\"col text-right\" *ngIf=\"_item\">\r\n          <!-- <div class=\"btn-group\"> -->\r\n\r\n          <button type=\"button\" *ngIf=\"_item.id\"\r\n                  class=\"btn btn-secondary mr-1\"\r\n                  [routerLink]=\"['/empleados/employees']\">\r\n            <fa-icon [icon]=\"['fas', 'chevron-left']\"></fa-icon>\r\n            {{'GENERIC.BTN.GOTO.LIST' | translate}}\r\n          </button>\r\n\r\n          <button type=\"submit\" class=\"btn btn-primary mx-1\" [disabled]=\"_isLoading\">\r\n            <ng-container *ngIf=\"_isLoading\">\r\n              <fa-icon [icon]=\"['fas', 'sync']\" [spin]=\"true\"></fa-icon>\r\n              {{'GENERIC.LABEL.LOADING' | translate}}\r\n            </ng-container>\r\n            <ng-container *ngIf=\"!_isLoading\">\r\n              <fa-icon [icon]=\"['fas', 'save']\"></fa-icon>\r\n              {{'GENERIC.BTN.SAVE' | translate}}\r\n            </ng-container>\r\n          </button>\r\n\r\n          <button type=\"button\" *ngIf=\"_item.id\"\r\n                  class=\"btn btn-danger ml-1\" (click)=\"onBtnDelete()\">\r\n            <fa-icon [icon]=\"['fas', 'trash']\"></fa-icon>\r\n            {{'GENERIC.BTN.DELETE' | translate}}\r\n          </button>\r\n\r\n          <!-- </div> -->\r\n        </div>\r\n    </div>\r\n\r\n</form>\r\n\r\n<app-modal-confirmation-message \r\n    #modalDeleteConfirm\r\n    (onClickConfirm)=\"onModalDeleteConfirmed()\">\r\n    <h3>Eliminar</h3>\r\n    <p>¿Desea eliminar este empleado?</p>\r\n</app-modal-confirmation-message>\r\n\r\n<app-modal-confirmation-message \r\n    #modalEmpleadoConProyectos>\r\n    <h3>Eliminar</h3>\r\n    <p>No puedes borrar este empleado. Tiene proyectos asignados. Borra antes sus proyectos.</p>\r\n</app-modal-confirmation-message>\r\n\r\n<app-modal-confirmation-message \r\n    #modalDatosRequired>\r\n    <h3>Guardar</h3>\r\n    <p *ngFor=\"let m of mensaje\">{{m}}</p>\r\n</app-modal-confirmation-message>\r\n\r\n\r\n<br>\r\n<button #botonDocumentacion class=\"btn-primary\" (click)=\"mostrarDoc=!mostrarDoc\">Mostar documentación</button>\r\n\r\n<div #documentacion [collapse]=\"mostrarDoc\" [isAnimated]=\"true\">\r\n\r\n<hr>\r\n<h4>DOCUMENTACIÓN</h4>\r\n<p>Para mostrar está página comenzaremos creando un formulario:</p>\r\n<pre>\r\n<code>\r\n    &lt;form (ngSubmit)&#61;\"onBtnSave($event)\" autocomplete=\"off\"&gt;&lt;/form&gt;\r\n</code>\r\n</pre>\r\n<p>En ngSubmit indicaremos el método que se ejecutará al hacer el submit del formulario.\r\n\r\nCada fila del formulario la incluiremos dentro de un div con la siguiente clase:</p>\r\n<pre>\r\n<code>\r\n    &lt;div class=\"form-row\"&gt;\r\n</code>\r\n</pre>\r\n<h5>Elementos del formulario</h5>\r\n<p>Cada elemento del formulario lo incluiremos dentro de un div con la siguientes clases:</p>\r\n<pre>\r\n<code>\r\n    &lt;div class=\"col form-group\"&gt;\r\n</code>\r\n</pre>\r\n<p>Para mostrar cada elemento del formulario usaremos el siguiente código:</p>\r\n<pre>\r\n<code>\r\n    &lt;label #lblName for=\"Name\" [tooltip]&#61;\"'PAGE.EMPLOYEES.DETAILS.LABEL.NAME' | translate \"\r\n            class=\"text-nowrap\">\r\n      &lt;fa-icon [icon]&#61;\"['fas', 'user-circle']\"&gt;&lt;/fa-icon&gt;\r\n      &#123;&#123;'PAGE.EMPLOYEES.DETAILS.LABEL.NAME' | translate&#125;&#125;\r\n    &lt;/label&gt;\r\n    &lt;input type=\"text\" autocomplete=\"off\" class=\"form-control form-control-sm\"\r\n            [id]&#61;\"lblName.getAttribute('for')\" [name]&#61;\"lblName.getAttribute('for')\"\r\n            [(ngModel)]&#61;\"_item.name\"\r\n            [disabled]&#61;\"_isLoading\"\r\n            [required]&#61;\"true\"&gt;\r\n    &lt;app-array-translator class=\"invalid-feedback d-block\"\r\n      [labels]&#61;\"_itemErrors[lblName.getAttribute('for')]\"&gt;&lt;/app-array-translator&gt;\r\n</code>\r\n</pre>\r\n<p>\r\n- #lblName será el id de la label del input<br>\r\n- for indicará a que input hará referencia la label. Se establecerá como id y name del input a través de [id]&#61;\"lblName.getAttribute('for')\" [name]&#61;\"lblName.getAttribute('for')\"<br>\r\n- ngModel indicará la variable que modificará el input.</p><br>\r\n<h5>Fechas</h5>\r\n<p>\r\nEn el caso de que el campo sea una fecha necesitaremos añadir el siguiente código adicional al input para\r\nconvertirlo en un datepicker\r\n</p>\r\n<pre>\r\n<code>\r\n    class=\"form-control\"\r\n    bsDatepicker\r\n    [bsValue]&#61;\"datebirth\"\r\n    (bsValueChange)&#61;\"onDatepicketValueChange($event, 'datebirth')\"&gt;\r\n    &lt;div class=\"input-group-append\"&gt;\r\n    &lt;button class=\"btn btn-outline-danger\"\r\n        type=\"button\"\r\n        [disabled]&#61;\"datebirth == null\"\r\n        (click)&#61;\"onDatepicketValueChange(null, 'datebirth')\"&gt;\r\n    &lt;fa-icon [icon]&#61;\"['fas', 'trash']\"&gt;&lt;/fa-icon&gt;\r\n    &lt;/button&gt;\r\n    &lt;/div&gt;\r\n</code>\r\n</pre>\r\n<p>- bsValue sustituirá a ngModel\r\n- En bsValueChange indicaremos el método que se ejecutará cuando cambie el valor de la fecha</p>\r\n<h5>Selects</h5>\r\n<p>\r\nEn el caso del dropdown list usaremos el siguiente código:\r\n</p>\r\n<pre>\r\n<code>\r\n    &lt;select class&#61;\"form-control form-control-sm\"\r\n    [id]&#61;\"lblPosition.getAttribute('for')\" [name]&#61;\"lblPosition.getAttribute('for')\"\r\n    [disabled]&#61;\"_isLoading\"\r\n    [(ngModel)]&#61;\"_item.position\"\r\n    [required]&#61;\"true\"&gt;\r\n      &lt;option  *ngFor&#61;\"let position of listaPositions | keyvalue\" [value]&#61;\"position.value.data\"&gt;&#123; &#123;position.value.label&#125;&#125;&lt;/option&gt;\r\n    &lt;/select&gt;\r\n</code>\r\n</pre>\r\n<p>Haremos un bucle para que muestre una opción para cada valor de la lista de enums. Para cargar los valores del enum usaremos el siguiente código en el componente:</p>\r\n<pre>\r\n<code>\r\n    if(this.listaPositions.length &lt;= 0)&#123;\r\n      this.employeeSV.apiEmployeesPositionlistGet$Json().subscribe(data =&gt;&#123;\r\n        this.listaPositions = data;\r\n      &#125;);\r\n    &#125;\r\n</code>\r\n</pre>\r\n<h5>Select - método alternativo</h5>\r\n<p>Usando el componente ax-bs-form-select tenemos una forma alternativa de mostrar los enums en el select.</p>\r\n<pre>\r\n<code>\r\n    &lt;ax-bs-form-select\r\n      [id]&#61;\"'position'\"\r\n      [label]&#61;\"'Posición'\"\r\n      [tooltipContent]&#61;\"'Posición'\"\r\n      [getterFn]&#61;\"selectPostionGetterFn\"\r\n      [(selected)]&#61;\"_item.position\"\r\n      [debounceTimeMs]&#61;\"200\"&gt;\r\n    &lt;/ax-bs-form-select&gt;\r\n</code>\r\n</pre>\r\n<p>- getterFn será la variable que se encargue de recoger los datos de la api y cargarlos en el select.<br>\r\n- selected será la variable que modificará el componente.<br>\r\nPara cargar la lista usaremos el siguiente código en el componente:</p>\r\n<pre>\r\n<code>\r\n    private initSelectPosition()&#123;\r\n        this.selectPostionGetterFn = async ()=&gt;&#123;\r\n          const fromApi = await this.employeeSV.apiEmployeesPositionlistGet$Json(&#123;&#125;)\r\n          .pipe(first())\r\n          .toPromise();\r\n          return fromApi.map(dvalue =&gt; new LabelAndValueExtended&lt;number&gt;().setData( &#123;\r\n            label: dvalue.label,\r\n            value: dvalue.data\r\n          &#125;));\r\n        &#125;;\r\n    &#125;\r\n</code>\r\n</pre>\r\n<p>De esta forma cargaremos los datos de la api y los mapaearemos de la forma en la que el componente los necesita.</p>\r\n<h5>Guardar/Eliminar</h5>\r\n<p>Para mostrar los botones de Volver a lista/Guardar/Eliminar usaremos el siguinete código:</p>\r\n<pre>\r\n<code>\r\n      &lt;div class=\"row footer-formbuttons position-fixed w-100\"&gt;\r\n      &lt;div class=\"col text-right\" *ngIf&#61;\"_item\"&gt;\r\n        \r\n        &lt;button type=\"button\" *ngIf&#61;\"_item.id\"\r\n                class=\"btn btn-secondary mr-1\"\r\n                [routerLink]&#61;\"['/empleados/employees']\"&gt;\r\n          &lt;fa-icon [icon]&#61;\"['fas', 'chevron-left']\"&gt;&lt;/fa-icon&gt;\r\n          &#123;&#123;'GENERIC.BTN.GOTO.LIST' | translate&#125;&#125;\r\n        &lt;/button&gt;\r\n\r\n        &lt;button type=\"submit\" class=\"btn btn-primary mx-1\" [disabled]&#61;\"_isLoading\"&gt;\r\n          &lt;ng-container *ngIf&#61;\"_isLoading\"&gt;\r\n            &lt;fa-icon [icon]&#61;\"['fas', 'sync']\" [spin]&#61;\"true\"&gt;&lt;/fa-icon&gt;\r\n            &#123;&#123;'GENERIC.LABEL.LOADING' | translate&#125;&#125;\r\n          &lt;/ng-container&gt;\r\n          &lt;ng-container *ngIf&#61;\"!_isLoading\"&gt;\r\n            &lt;fa-icon [icon]&#61;\"['fas', 'save']\"&gt;&lt;/fa-icon&gt;\r\n            &#123;&#123;'GENERIC.BTN.SAVE' | translate&#125;&#125;\r\n          &lt;/ng-container&gt;\r\n        &lt;/button&gt;\r\n\r\n        &lt;button type=\"button\" *ngIf&#61;\"_item.id\"\r\n                class=\"btn btn-danger ml-1\" (click)&#61;\"onBtnDelete()\"&gt;\r\n          &lt;fa-icon [icon]&#61;\"['fas', 'trash']\"&gt;&lt;/fa-icon&gt;\r\n          &#123;&#123;'GENERIC.BTN.DELETE' | translate&#125;&#125;\r\n        &lt;/button&gt;\r\n\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n</code>\r\n</pre>\r\n<p>Para sacar una ventana modal usaremos el siguiente código HTML</p>\r\n<pre>\r\n<code>\r\n    &lt;app-modal-confirmation-message \r\n      #modalDeleteConfirm\r\n      (onClickConfirm)&#61;\"onModalDeleteConfirmed()\"&gt;\r\n      &lt;h3&gt;Eliminar&lt;/h3&gt;\r\n      &lt;p&gt;¿Desea eliminar este empleado?&lt;/p&gt;\r\n    &lt;/app-modal-confirmation-message&gt;\r\n</code>\r\n</pre>\r\n<p>En el componente rescataremos el modal con esta variable</p>\r\n<pre>\r\n<code>\r\n    @ViewChild('modalDeleteConfirm') modalDetails:ModalConfirmationMessageComponent;\r\n</code>\r\n</pre>\r\n<p>\r\nPara mostrar y cerrar el modal usaremos:\r\n\r\n    this.modalDetails.open();\r\n    this.modalDetails.close();\r\n\r\nPara guardar un empleado usaremos el siguiente código:\r\n</p>\r\n<pre>\r\n<code>\r\n    onBtnSave(ev: MouseEvent): void &#123;\r\n        console.log(\"GUARDANDO...\");\r\n        this._isLoading = true;\r\n\r\n        this._item.dbirth = this.datebirth.getFullYear() + \"-\" + (this.datebirth.getMonth()+1) + \"-\" + this.datebirth.getDate();\r\n        this._item.dstart = this.datestart.getFullYear() + \"-\" + (this.datestart.getMonth()+1) + \"-\" + this.datestart.getDate();\r\n\r\n        if (this._isNewItem)&#123;\r\n          console.log(this._item);\r\n          this.employeeSV.apiEmployeesInsertPost$Json(&#123;body:this._item&#125;).subscribe((data) => &#123;\r\n            console.log(\"Creado: \" + data.id + \" - \" + data.name);\r\n            this._isLoading = false;\r\n            this.goBack();\r\n          &#125;);\r\n        &#125; else &#123;\r\n          this.employeeSV.apiEmployeesUpdatePost$Json(&#123;body:this._item&#125;).subscribe((data) => &#123;\r\n            console.log(\"Actualizado: \" + data.id + \" - \" + data.name);\r\n            this._isLoading = false;\r\n            this.goBack();\r\n          &#125;);\r\n        &#125;\r\n        \r\n    &#125;\r\n</code>\r\n</pre>\r\n<p>Para eliminar un empleado usaremos el siguiente código:</p>\r\n<pre>\r\n<code>\r\n    onModalDeleteConfirmed()&#123;\r\n      this.employeeSV.apiEmployeesDeleteDelete$Json(&#123;id:this._item.id&#125;).subscribe((data) => &#123;\r\n        console.log(\"Borrado: \" + data.id + \" - \" + data.name);\r\n        this._isLoading = false;\r\n        this.goBack();\r\n      &#125;);\r\n\r\n      this.modalDetails.close();\r\n    &#125;\r\n</code>\r\n</pre>\r\n<h5>Cargar el empleado</h5>\r\n<p>A la hora de cargar los datos en el formulario primero tendremos que comprobar los datos de la ruta:</p>\r\n<pre>\r\n<code>\r\n    const parentS = this.aRoute.parent.url.subscribe((parentUrl) =&gt; &#123;\r\n</code>\r\n</pre>\r\n<p>Si el valor de la ruta es nulo o vacío, no será una navegación correcta. En caso contrario comprobaremos\r\nla ruta hija:</p>\r\n<pre>\r\n<code>\r\n    const childS = this.aRoute.paramMap.subscribe((data) => &#123;\r\n        const id = data.get('id');\r\n</code>\r\n</pre>\r\n<p>Si el valor de la ruta es new, significará que estamos creado un empleado nuevo y no necesitamos cargar datos:</p>\r\n<pre>\r\n<code>\r\n    if (parentUrl[0].path === 'new') &#123;\r\n      if (id) &#123;\r\n        this.goBack();\r\n        return;\r\n      &#125;\r\n      this._isNewItem = true;\r\n      this._isLoading = false;\r\n    &#125; \r\n</code>\r\n</pre>\r\n<p>En caso contrario comprobamos que el id introducido en la ruta exista y cargamos los datos en el formulario.\r\nEn el caso de las fechas será necesario transformarlas a Date para que el datepicker las reconozca.</p>\r\n<pre>\r\n<code>\r\n    if (!id) &#123;\r\n      this.goBack();\r\n      return;\r\n    &#125;\r\n\r\n    this.employeeSV.apiEmployeesGetbyidGet$Json(&#123;id:parseInt(id)&#125;).subscribe((data) => &#123;\r\n        this._item = data;\r\n        this._isLoading = true;\r\n\r\n        // 404\r\n        if (this._item == null) &#123;\r\n          this.goBack();\r\n          return;\r\n        &#125;\r\n\r\n        if (parseInt(id) === this._item.id) &#123;\r\n          this.datebirth = new Date(this._item.dbirth);\r\n          this.datestart = new Date(this._item.dstart);\r\n          this._isLoading = false;\r\n        &#125;\r\n\r\n    &#125;);\r\n</code>\r\n</pre>\r\n</div>\r\n\r\n<pre>\r\n\r\n\r\n</pre>"],"sourceRoot":"webpack:///"}